{"version":3,"file":"validateRegistration.min.js","sources":["../src/validateRegistration.js"],"sourcesContent":["export const validate = () => {\n\n    const form = document.querySelector('.mform.full-width-labels');\n    const phoneInput = document.getElementById('id_profile_field_phonenumber');\n    const dayInput = document.getElementById('id_profile_field_dataofbirth_day');\n    const monthInput = document.getElementById('id_profile_field_dataofbirth_month');\n    const yearInput = document.getElementById('id_profile_field_dataofbirth_year');\n    const occupationInput = document.getElementById('id_profile_field_occupation');\n    const genderInput = document.getElementById('id_profile_field_gender');\n    const occupationOtherInput = document.getElementById(\"fitem_id_profile_field_occupation_other\");\n    const genderOtherInput = document.getElementById(\"fitem_id_profile_field_gender_other\");\n\n    form.addEventListener('submit', function(event) {\n        const phoneNumber = libphonenumber.parsePhoneNumberFromString(phoneInput.value, 'BR');\n        \n        if(!phoneNumber || !phoneNumber.isValid()){\n            event.preventDefault();\n            alert('Digite um número de telefone válido.');\n            phoneInput.focus();\n            return false;\n        }\n\n        if(!EighteenYearsPassed(dayInput.value,monthInput.value,yearInput.value)){\n            event.preventDefault();\n            alert('É necessário ter 18 anos ou mais para se registrar neste site.');\n            return false;\n        }\n    });\n\n    occupationInput.addEventListener(\"change\", function() {\n        if (occupationInput.value === \"Outro\") {\n            occupationOtherInput.style.display = \"block\"; // Show the hidden field\n            occupationOtherInput.focus();\n        } else {\n            occupationOtherInput.style.display = \"none\"; // Hide the field if another option is selected\n            const occupationText = occupationOtherInput.querySelector(\"#id_profile_field_occupation_other\");\n            occupationText.value = \"\";\n        }\n    });\n\n    genderInput.addEventListener(\"change\", function() {\n        if (genderInput.value === \"Outros\") {\n            genderOtherInput.style.display = \"block\"; // Show the hidden field\n            genderOtherInput.focus();\n        } else {\n            genderOtherInput.style.display = \"none\"; // Hide the field if another option is selected\n            const genderText = occupationOtherInput.querySelector(\"#id_profile_field_gender_other\");\n            genderText.value = \"\";\n        }\n    });\n};\n\nfunction EighteenYearsPassed(day, month, year) {\n    // Convert strings to integers\n    const dayInt = parseInt(day, 10);\n    const monthInt = parseInt(month, 10) - 1; // Month is 0-indexed in JavaScript Date\n    const yearInt = parseInt(year, 10);\n  \n    // Create a date object for the input date\n    const inputDate = new Date(yearInt, monthInt, dayInt);\n    // Get the current date\n    const currentDate = new Date();\n  \n    // Calculate the date exactly 18 years ago\n    const date18YearsAgo = new Date();\n    date18YearsAgo.setFullYear(currentDate.getFullYear() - 18);\n  \n    // Check if the input date is on or before the date 18 years ago\n    return inputDate <= date18YearsAgo;\n  }"],"names":["form","document","querySelector","phoneInput","getElementById","dayInput","monthInput","yearInput","occupationInput","genderInput","occupationOtherInput","genderOtherInput","addEventListener","event","phoneNumber","libphonenumber","parsePhoneNumberFromString","value","isValid","day","month","year","dayInt","parseInt","monthInt","yearInt","inputDate","Date","currentDate","date18YearsAgo","setFullYear","getFullYear","EighteenYearsPassed","preventDefault","alert","focus","style","display"],"mappings":"iLAAwB,WAEdA,KAAOC,SAASC,cAAc,4BAC9BC,WAAaF,SAASG,eAAe,gCACrCC,SAAWJ,SAASG,eAAe,oCACnCE,WAAaL,SAASG,eAAe,sCACrCG,UAAYN,SAASG,eAAe,qCACpCI,gBAAkBP,SAASG,eAAe,+BAC1CK,YAAcR,SAASG,eAAe,2BACtCM,qBAAuBT,SAASG,eAAe,2CAC/CO,iBAAmBV,SAASG,eAAe,uCAEjDJ,KAAKY,iBAAiB,UAAU,SAASC,aAC/BC,YAAcC,eAAeC,2BAA2Bb,WAAWc,MAAO,aAE5EH,aAAgBA,YAAYI,mBAqCXC,IAAKC,MAAOC,YAE/BC,OAASC,SAASJ,IAAK,IACvBK,SAAWD,SAASH,MAAO,IAAM,EACjCK,QAAUF,SAASF,KAAM,IAGzBK,UAAY,IAAIC,KAAKF,QAASD,SAAUF,QAExCM,YAAc,IAAID,KAGlBE,eAAiB,IAAIF,YAC3BE,eAAeC,YAAYF,YAAYG,cAAgB,IAGhDL,WAAaG,eA9CZG,CAAoB3B,SAASY,MAAMX,WAAWW,MAAMV,UAAUU,eAC9DJ,MAAMoB,iBACNC,MAAM,mEACC,IATPrB,MAAMoB,iBACNC,MAAM,wCACN/B,WAAWgC,SACJ,MAUf3B,gBAAgBI,iBAAiB,UAAU,cACT,UAA1BJ,gBAAgBS,MAChBP,qBAAqB0B,MAAMC,QAAU,QACrC3B,qBAAqByB,YAClB,CACHzB,qBAAqB0B,MAAMC,QAAU,OACd3B,qBAAqBR,cAAc,sCAC3Ce,MAAQ,OAI/BR,YAAYG,iBAAiB,UAAU,cACT,WAAtBH,YAAYQ,MACZN,iBAAiByB,MAAMC,QAAU,QACjC1B,iBAAiBwB,YACd,CACHxB,iBAAiByB,MAAMC,QAAU,OACd3B,qBAAqBR,cAAc,kCAC3Ce,MAAQ"}